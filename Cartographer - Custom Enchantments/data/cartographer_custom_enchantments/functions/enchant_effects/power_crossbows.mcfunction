scoreboard players set @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] helper_lifetime 1

#Apply Power data to the arrow.
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:1s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 3.0
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:2s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 3.5
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:3s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 4.0
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:4s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 4.5
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:5s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 5.0
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:6s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 5.5
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:7s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 6.0
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:8s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 6.5
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:9s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 7.0
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow",tag:{Enchantments:[{id:"minecraft:power",lvl:10s}]}}}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 7.5

execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:1s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 3.0
execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:2s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 3.5
execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:3s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 4.0
execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:4s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 4.5
execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:5s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 5.0
execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:6s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 5.5
execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:7s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 6.0
execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:8s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 6.5
execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:9s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 7.0
execute if entity @s[nbt={Inventory:[{id:"minecraft:crossbow",Slot:-106b,tag:{Enchantments:[{id:"minecraft:power",lvl:10s}]}}]}] run execute as @e[type=#cartographer_core:arrow,limit=3,distance=..3,sort=nearest] at @s run data modify entity @s damage set value 7.5